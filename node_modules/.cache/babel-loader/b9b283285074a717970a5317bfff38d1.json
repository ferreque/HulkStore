{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\Programacion\\\\HuklStore\\\\hulk-store\\\\src\\\\pages\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { postAuth } from \"../helpers/authentication\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const isMounted = useRef(true);\n  const navigate = useNavigate();\n  const [btnDisable, setBtnDisable] = useState(false);\n  const [login, setLogin] = useState({});\n  const [formValue, setformValue] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  useEffect(() => {\n    if (login.token) {\n      localStorage.setItem(\"auth\", JSON.stringify(login));\n      setTimeout(() => {\n        navigate(\"../\", {\n          replace: true\n        });\n      }, 1500);\n    }\n  }, [login, navigate]);\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleChange = _ref => {\n    let {\n      target\n    } = _ref;\n    setformValue({ ...formValue,\n      [target.name]: target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      email,\n      password\n    } = formValue;\n\n    if (email && password) {\n      setBtnDisable(true);\n\n      if (isMounted.current) {\n        postAuth(formValue).then(respuesta => {\n          setLogin(respuesta);\n          setBtnDisable(false);\n          setformValue({\n            email: \"\",\n            password: \"\"\n          });\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row background-up\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-flex justify-content-center \",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"mt-5 text-white\",\n          children: \"Hulk-Store\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col col-md-4 offset-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-user\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), \" Iniciar Sesi\\xF3n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"EMAIL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  name: \"email\",\n                  value: formValue.email,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"PASSWORD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  name: \"password\",\n                  value: formValue.password,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"nav-link link-warning ps-0\",\n                  to: \"/registro\",\n                  children: \"Create una cuenta!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-grid gap-1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success\",\n                  disabled: btnDisable,\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-sign-in\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 21\n                  }, this), \"Ingresar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), login.ok === false && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger mt-3\",\n                role: \"alert\",\n                children: login.msg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"rIkZ5lm0q4mKctulKKMvv74tOro=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Administrador/Desktop/Programacion/HuklStore/hulk-store/src/pages/Login.jsx"],"names":["React","useState","useEffect","useRef","Link","useNavigate","postAuth","Login","isMounted","navigate","btnDisable","setBtnDisable","login","setLogin","formValue","setformValue","email","password","token","localStorage","setItem","JSON","stringify","setTimeout","replace","current","handleChange","target","name","value","handleSubmit","e","preventDefault","then","respuesta","ok","msg"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { postAuth } from \"../helpers/authentication\";\r\n\r\nconst Login = () => {\r\n  const isMounted = useRef(true);\r\n  const navigate = useNavigate();\r\n  const [btnDisable, setBtnDisable] = useState(false);\r\n  const [login, setLogin] = useState({});\r\n  const [formValue, setformValue] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  useEffect(() => {\r\n    if (login.token) {\r\n      localStorage.setItem(\"auth\", JSON.stringify(login));\r\n      setTimeout(() => {\r\n        navigate(\"../\", { replace: true });\r\n      }, 1500);\r\n    }\r\n  }, [login, navigate]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setformValue({\r\n      ...formValue,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = formValue;\r\n\r\n    if (email && password) {\r\n      setBtnDisable(true);\r\n      if (isMounted.current) {\r\n        postAuth(formValue).then((respuesta) => {\r\n          setLogin(respuesta);\r\n          setBtnDisable(false);\r\n          setformValue({\r\n            email: \"\",\r\n            password: \"\",\r\n          });\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row background-up\">\r\n        <div className=\"col d-flex justify-content-center \">\r\n          <h1 className=\"mt-5 text-white\">Hulk-Store</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col col-md-4 offset-md-4\">\r\n          <div className=\"card card-login\">\r\n            <div className=\"card-body\">\r\n              <h3 className=\"card-title text-center\">\r\n                <i className=\"fa fa-user\" aria-hidden=\"true\"></i> Iniciar Sesión\r\n              </h3>\r\n              <hr />\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group mb-2\">\r\n                  <strong>EMAIL</strong>\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    value={formValue.email}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group mb-3\">\r\n                  <strong>PASSWORD</strong>\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    value={formValue.password}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"nav-item\">\r\n                  <Link className=\"nav-link link-warning ps-0\" to=\"/registro\">\r\n                    Create una cuenta!\r\n                  </Link>\r\n                </div>\r\n                <div className=\"d-grid gap-1\">\r\n                  <button className=\"btn btn-success\" disabled={btnDisable}>\r\n                    <i className=\"fa fa-sign-in\" aria-hidden=\"true\"></i>\r\n                    Ingresar\r\n                  </button>\r\n                </div>\r\n\r\n                {login.ok === false && (\r\n                  <div className=\"alert alert-danger mt-3\" role=\"alert\">\r\n                    {login.msg}\r\n                  </div>\r\n                )}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}