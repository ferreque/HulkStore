{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\Programacion\\\\HuklStore\\\\hulk-store\\\\src\\\\components\\\\CardFin.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { Form, Card, Container, Button } from \"react-bootstrap\";\nimport { postOrders } from \"../helpers/orders\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = JSON.parse(localStorage.getItem(\"auth\")).token;\nlet carrito = JSON.parse(localStorage.getItem(\"carrito\")) || [];\n\nconst CardFin = _ref => {\n  _s();\n\n  let {\n    pedidos,\n    setEco,\n    setPedidos,\n    btnDisable,\n    setBtnDisable\n  } = _ref;\n  const navigate = useNavigate();\n  const usuario = JSON.parse(localStorage.getItem(\"auth\")).usuario;\n  useEffect(() => {\n    setEco(false);\n  });\n  useEffect(() => {\n    if (carrito === []) {\n      setBtnDisable(true);\n    }\n  }, [carrito]);\n\n  const getRandomNumberBetween = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  };\n\n  const confirmarPedido = () => {\n    pedidos.forEach(pedido => {\n      let product = {\n        producto: pedido.product.nombre,\n        cantidad: pedido.cantidad,\n        tipo: pedido.tipo,\n        nombreCliente: pedido.cliente.nombre,\n        estado: pedido.estado,\n        numeroPedido: pedido._id,\n        descripcion: (pedido === null || pedido === void 0 ? void 0 : pedido.descripcion) || \"No se especificaron notas para este pedido\"\n      };\n      postOrders(product, token).then(respuesta => {\n        if (respuesta.errors) {\n          return window.alert(respuesta.errors[0].msg);\n        } else {\n          Swal.fire({\n            title: \"Pedido confirmado\",\n            icon: \"success\",\n            confirmButtonColor: \"#3085d6\"\n          });\n\n          const redireccion = () => navigate(\"../\", {\n            replace: true\n          });\n\n          redireccion();\n        }\n      });\n    });\n    localStorage.setItem(\"carrito\", JSON.stringify([]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"text-center\",\n    children: [pedidos.map((pedido, index) => /*#__PURE__*/_jsxDEV(Card, {\n      className: \"  mb-3 mi-4 login-card justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          className: \"mb-2 \",\n          children: pedido.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: [\"$ \", pedido.precio]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            onChange: e => {\n              pedidos[index] = { ...pedido,\n                notas: e.target.value\n              };\n              setPedidos(pedidos);\n            },\n            label: \"Comments\",\n            as: \"textarea\",\n            maxLength: \"150\",\n            placeholder: \"\\xBFNos queres aclarar algo sobre tu pedido?\",\n            style: {\n              height: \"100px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"mb-4 pull-right mt-3\",\n        variant: \"light\",\n        onClick: () => {\n          const _pedidos = JSON.parse(localStorage.getItem(\"carrito\")) || [];\n\n          localStorage.setItem(\"carrito\", JSON.stringify(_pedidos.map(e => e).filter(e => e !== pedido._id)));\n          setPedidos(pedidos.filter(e => pedido._id !== e._id));\n        },\n        children: \"BORRAR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, getRandomNumberBetween(1, 1000000), true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"mb-4 pull-right mt-3\",\n      variant: \"light\",\n      disabled: btnDisable,\n      onClick: () => confirmarPedido(),\n      children: \"CONFIRMAR PEDIDO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CardFin, \"khgsfvlVLpWikUdAayORL272oMo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CardFin;\nexport default CardFin;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardFin\");","map":{"version":3,"sources":["C:/Users/Administrador/Desktop/Programacion/HuklStore/hulk-store/src/components/CardFin.jsx"],"names":["React","useEffect","Swal","Form","Card","Container","Button","postOrders","useNavigate","token","JSON","parse","localStorage","getItem","carrito","CardFin","pedidos","setEco","setPedidos","btnDisable","setBtnDisable","navigate","usuario","getRandomNumberBetween","min","max","Math","floor","random","confirmarPedido","forEach","pedido","product","producto","nombre","cantidad","tipo","nombreCliente","cliente","estado","numeroPedido","_id","descripcion","then","respuesta","errors","window","alert","msg","fire","title","icon","confirmButtonColor","redireccion","replace","setItem","stringify","map","index","precio","e","notas","target","value","height","_pedidos","filter"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Form, Card, Container, Button } from \"react-bootstrap\";\r\nimport { postOrders } from \"../helpers/orders\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst token = JSON.parse(localStorage.getItem(\"auth\")).token;\r\nlet carrito = JSON.parse(localStorage.getItem(\"carrito\")) || [];\r\n\r\nconst CardFin = ({\r\n  pedidos,\r\n  setEco,\r\n  setPedidos,\r\n  btnDisable,\r\n  setBtnDisable,\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const usuario = JSON.parse(localStorage.getItem(\"auth\")).usuario;\r\n  useEffect(() => {\r\n    setEco(false);\r\n  });\r\n  useEffect(() => {\r\n    if (carrito === []) {\r\n      setBtnDisable(true);\r\n    }\r\n  }, [carrito]);\r\n\r\n  const getRandomNumberBetween = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n  };\r\n\r\n  const confirmarPedido = () => {\r\n    pedidos.forEach((pedido) => {\r\n      let product = {\r\n        producto: pedido.product.nombre,\r\n        cantidad: pedido.cantidad,\r\n        tipo: pedido.tipo,\r\n        nombreCliente: pedido.cliente.nombre,\r\n        estado: pedido.estado,\r\n        numeroPedido: pedido._id,\r\n        descripcion:\r\n          pedido?.descripcion || \"No se especificaron notas para este pedido\",\r\n      };\r\n\r\n      postOrders(product, token).then((respuesta) => {\r\n        if (respuesta.errors) {\r\n          return window.alert(respuesta.errors[0].msg);\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Pedido confirmado\",\r\n            icon: \"success\",\r\n            confirmButtonColor: \"#3085d6\",\r\n          });\r\n          const redireccion = () => navigate(\"../\", { replace: true });\r\n          redireccion();\r\n        }\r\n      });\r\n    });\r\n    localStorage.setItem(\"carrito\", JSON.stringify([]));\r\n  };\r\n\r\n  return (\r\n    <Container className=\"text-center\">\r\n      {pedidos.map((pedido, index) => (\r\n        <Card\r\n          key={getRandomNumberBetween(1, 1000000)}\r\n          className=\"  mb-3 mi-4 login-card justify-center\"\r\n        >\r\n          <Card.Body>\r\n            <Card.Title className=\"mb-2 \">{pedido.nombre}</Card.Title>\r\n            <Card.Text>$ {pedido.precio}</Card.Text>\r\n            <Form>\r\n              <Form.Control\r\n                onChange={(e) => {\r\n                  pedidos[index] = { ...pedido, notas: e.target.value };\r\n                  setPedidos(pedidos);\r\n                }}\r\n                label=\"Comments\"\r\n                as=\"textarea\"\r\n                maxLength=\"150\"\r\n                placeholder=\"Â¿Nos queres aclarar algo sobre tu pedido?\"\r\n                style={{ height: \"100px\" }}\r\n              />\r\n            </Form>\r\n          </Card.Body>\r\n          <Button\r\n            className=\"mb-4 pull-right mt-3\"\r\n            variant=\"light\"\r\n            onClick={() => {\r\n              const _pedidos =\r\n                JSON.parse(localStorage.getItem(\"carrito\")) || [];\r\n              localStorage.setItem(\r\n                \"carrito\",\r\n                JSON.stringify(\r\n                  _pedidos.map((e) => e).filter((e) => e !== pedido._id)\r\n                )\r\n              );\r\n              setPedidos(pedidos.filter((e) => pedido._id !== e._id));\r\n            }}\r\n          >\r\n            BORRAR\r\n          </Button>\r\n        </Card>\r\n      ))}\r\n\r\n      <Button\r\n        className=\"mb-4 pull-right mt-3\"\r\n        variant=\"light\"\r\n        disabled={btnDisable}\r\n        onClick={() => confirmarPedido()}\r\n      >\r\n        CONFIRMAR PEDIDO\r\n      </Button>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CardFin;\r\n"]},"metadata":{},"sourceType":"module"}